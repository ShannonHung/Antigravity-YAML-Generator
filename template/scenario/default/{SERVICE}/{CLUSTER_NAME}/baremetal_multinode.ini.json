[
    {
        "key": "global_vars",
        "description": "all:vars section",
        "multi_type": [
            "object"
        ],
        "default_value": {
            "ansible_user": "${USERNAME}",
            "ansible_ssh_private_key_file": "~/.ssh/id_rsa",
            "ansible_python_interpreter": "/usr/bin/python3"
        },
        "children": [
            {
                "key": "ansible_user",
                "multi_type": [
                    "string"
                ],
                "regex": ".*",
                "regex_enable": true,
                "default_value": "${USERNAME}",
                "required": true,
                "children": [],
                "override_strategy": "merge"
            },
            {
                "key": "ansible_ssh_private_key_file",
                "multi_type": [
                    "string"
                ],
                "regex": ".*",
                "regex_enable": true,
                "required": true,
                "children": [],
                "override_strategy": "merge"
            },
            {
                "key": "ansible_python_interpreter",
                "multi_type": [
                    "string"
                ],
                "regex": ".*",
                "regex_enable": true,
                "required": true,
                "children": [],
                "override_strategy": "merge"
            }
        ],
        "required": true,
        "override_strategy": "merge"
    },
    {
        "key": "groups",
        "multi_type": [
            "object"
        ],
        "default_value": {
            "master": [
                {
                    "hostname": "master-01",
                    "ansible_host": "10.0.0.11"
                },
                {
                    "hostname": "master-02",
                    "ansible_host": "10.0.0.12"
                },
                {
                    "hostname": "master-03",
                    "ansible_host": "10.0.0.13"
                }
            ],
            "worker": [
                {
                    "hostname": "worker-01",
                    "ansible_host": "10.0.1.11"
                },
                {
                    "hostname": "worker-02",
                    "ansible_host": "10.0.1.12"
                },
                {
                    "hostname": "worker-03",
                    "ansible_host": "10.0.1.13"
                }
            ],
            "l4lb": [
                {
                    "hostname": "lb-01",
                    "ansible_host": "10.0.2.10"
                }
            ]
        },
        "children": [
            {
                "key": "master",
                "multi_type": [
                    "list"
                ],
                "item_multi_type": [
                    "object"
                ],
                "description": "master nodes",
                "override_hint": true,
                "children": [
                    {
                        "key": "hostname",
                        "multi_type": [
                            "string"
                        ],
                        "default_value": "master-1",
                        "regex": "^master-[0-9]+$",
                        "regex_enable": true,
                        "required": true,
                        "children": [],
                        "override_strategy": "merge"
                    },
                    {
                        "key": "ansible_host",
                        "multi_type": [
                            "ip"
                        ],
                        "regex": "^10\\.0\\.0\\.[0-9]+$",
                        "default_value": "10.0.0.1",
                        "regex_enable": true,
                        "required": true,
                        "children": [],
                        "override_strategy": "merge"
                    }
                ],
                "required": true,
                "override_strategy": "merge"
            },
            {
                "key": "worker",
                "multi_type": [
                    "list"
                ],
                "item_multi_type": [
                    "object"
                ],
                "description": "worker nodes",
                "override_hint": true,
                "children": [
                    {
                        "key": "hostname",
                        "multi_type": [
                            "string"
                        ],
                        "regex": "^worker-[0-9]+$",
                        "default_value": "worker-1",
                        "regex_enable": true,
                        "required": true,
                        "children": [],
                        "override_strategy": "merge"
                    },
                    {
                        "key": "ansible_host",
                        "multi_type": [
                            "ip"
                        ],
                        "regex": "^10\\.0\\.1\\.[0-9]+$",
                        "default_value": "10.0.1.1",
                        "regex_enable": true,
                        "required": true,
                        "children": [],
                        "override_strategy": "merge"
                    }
                ],
                "required": true,
                "override_strategy": "merge"
            },
            {
                "key": "l4lb",
                "multi_type": [
                    "list"
                ],
                "item_multi_type": [
                    "object"
                ],
                "description": "load balancer nodes",
                "override_hint": true,
                "children": [
                    {
                        "key": "hostname",
                        "multi_type": [
                            "string"
                        ],
                        "regex": "^lb-[0-9]+$",
                        "default_value": "lb-1",
                        "regex_enable": true,
                        "required": true,
                        "children": [],
                        "override_strategy": "merge"
                    },
                    {
                        "key": "ansible_host",
                        "multi_type": [
                            "ip"
                        ],
                        "regex": "^10\\.0\\.2\\.[0-9]+$",
                        "regex_enable": true,
                        "required": true,
                        "children": [],
                        "override_strategy": "merge"
                    }
                ],
                "required": true,
                "override_strategy": "merge"
            }
        ],
        "required": true,
        "override_strategy": "merge"
    },
    {
        "key": "aggregations",
        "multi_type": [
            "object"
        ],
        "default_value": {
            "k8s-nodes": [
                "master",
                "worker",
                "l4lb"
            ]
        },
        "children": [
            {
                "key": "k8s-nodes",
                "description": "k8s nodes",
                "multi_type": [
                    "list"
                ],
                "item_multi_type": [
                    "string"
                ],
                "regex": "^(master|worker|l4lb)$",
                "regex_enable": true,
                "default_value": [
                    "master",
                    "worker",
                    "l4lb",
                    "hi"
                ],
                "required": true,
                "children": [],
                "override_strategy": "merge"
            }
        ],
        "required": true,
        "override_strategy": "merge"
    }
]