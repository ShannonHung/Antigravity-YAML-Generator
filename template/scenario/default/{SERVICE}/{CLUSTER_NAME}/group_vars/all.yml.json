[
    {
        "key": "env",
        "description": "deployment environment name",
        "override_hint": false,
        "multi_type": [
            "string"
        ],
        "regex": "production",
        "regex_enable": true,
        "children": [],
        "required": true
    },
    {
        "key": "timezone",
        "description": "system timezone",
        "override_hint": true,
        "multi_type": [
            "string"
        ],
        "item_multi_type": [],
        "regex": "Asia/Taipei",
        "regex_enable": true,
        "children": [],
        "required": true
    },
    {
        "key": "ntp",
        "description": "ntp configuration",
        "override_hint": false,
        "multi_type": [
            "object",
            "string"
        ],
        "regex_enable": false,
        "children": [
            {
                "key": "enabled",
                "description": "enable ntp service",
                "override_hint": false,
                "multi_type": [
                    "bool"
                ],
                "item_multi_type": [],
                "regex": "true",
                "regex_enable": true,
                "children": [],
                "required": true
            },
            {
                "key": "servers",
                "description": "ntp server list",
                "override_hint": false,
                "multi_type": [
                    "list"
                ],
                "item_multi_type": [
                    "object"
                ],
                "regex": null,
                "regex_enable": false,
                "children": [
                    {
                        "key": "item",
                        "description": "ntp server entry",
                        "override_hint": false,
                        "multi_type": [
                            "string"
                        ],
                        "item_multi_type": [],
                        "regex": "time.google.com|pool.ntp.org",
                        "regex_enable": true,
                        "children": [],
                        "required": true
                    }
                ],
                "required": false,
                "condition": {
                    "logical": "and",
                    "conditions": [
                        {
                            "key": "ntp.enabled",
                            "operator": "eq",
                            "value": "true"
                        }
                    ]
                }
            },
            {
                "key": "dns",
                "description": "dns configuration",
                "override_hint": false,
                "multi_type": [
                    "object"
                ],
                "regex": null,
                "regex_enable": false,
                "children": [
                    {
                        "key": "search_domains",
                        "description": "dns search domains",
                        "override_hint": false,
                        "multi_type": [
                            "list"
                        ],
                        "item_multi_type": [
                            "object"
                        ],
                        "regex_enable": false,
                        "children": [
                            {
                                "key": "item",
                                "description": "search domain entry",
                                "override_hint": false,
                                "multi_type": [
                                    "string"
                                ],
                                "regex": "corp.example.com|svc.cluster.local",
                                "regex_enable": true,
                                "children": [],
                                "required": true
                            }
                        ],
                        "required": false,
                        "condition": {
                            "logical": "and",
                            "conditions": [
                                {
                                    "key": "ntp.enabled",
                                    "operator": "eq",
                                    "value": "true"
                                }
                            ]
                        }
                    },
                    {
                        "key": "nameservers",
                        "description": "dns nameserver entry",
                        "override_hint": false,
                        "multi_type": [
                            "list"
                        ],
                        "item_multi_type": [
                            "object"
                        ],
                        "regex_enable": false,
                        "children": [
                            {
                                "key": "region_new",
                                "description": "nameserver entry",
                                "override_hint": false,
                                "multi_type": [
                                    "enum"
                                ],
                                "regex": "[tw,us,jp]",
                                "regex_enable": false,
                                "children": [],
                                "required": true
                            }
                        ],
                        "required": false,
                        "condition": {
                            "logical": "and",
                            "conditions": [
                                {
                                    "key": "ntp.enabled",
                                    "operator": "eq",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                ],
                "required": true
            }
        ]
    }
]